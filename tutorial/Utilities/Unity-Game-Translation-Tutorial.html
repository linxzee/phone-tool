<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unity游戏AI翻译教程 - 使用大模型自动翻译游戏文本</title>
    <link rel="icon" type="image/png" href="../../main/images/logo.png">
    <link rel="stylesheet" href="../../main/css/styles.css">
    <link rel="stylesheet" href="../../main/css/navbar.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>

    <div id="navbar-placeholder"></div>

    <main class="container">
        <div class="content-section">
            <h1>Unity游戏AI翻译教程</h1>
            <p class="meta-info">作者：芝士</p>
            
            <!-- 下载链接区域 -->
            <div class="download-links">
                <h2>所需工具下载</h2>
                <ul>
                    <li><strong>大模型对接工具：</strong><a href="https://github.com/HanFengRuYue/XUnity.LLMTranslate/tags" target="_blank" rel="noopener noreferrer">XUnity-LLMTranslateGUI</a></li>
                    <li><strong>Unity自动翻译对接软件：</strong><a href="https://linxize.lanzout.com/ijaPg393kquh" target="_blank" rel="noopener noreferrer">下载链接</a></li>
                    <li><strong>翻译工具：</strong><a href="https://github.com/bbepis/XUnity.AutoTranslator/releases" target="_blank" rel="noopener noreferrer">XUnity.AutoTranslator</a></li>
                    <li><strong>汉化版Mono：</strong><a href="https://linxize.lanzout.com/iNrxG393kqre" target="_blank" rel="noopener noreferrer">下载链接</a></li>
                    <li><strong>汉化版IL2CPP：</strong><a href="https://linxize.lanzout.com/ixWu7393kqsf" target="_blank" rel="noopener noreferrer">下载链接</a></li>
                    <li><strong>中文字体：</strong><a href="https://github.com/bbepis/XUnity.AutoTranslator/releases/download/v5.4.5/TMP_Font_AssetBundles_2025-05-12.7z" target="_blank" rel="noopener noreferrer">TMP_Font_AssetBundles_2025-05-12</a></li>
                </ul>
            </div>
            
            <!-- 步骤区域 -->
            <h2>第一步：检查游戏脚本类型</h2>
            <p>首先需要确定游戏使用的是哪种脚本后端：</p>
            
            <div class="code-block">
📁 检查游戏目录结构：

- 存在Mono文件夹或Managed文件夹 → Mono脚本
- 存在il2cpp_data文件夹 → IL2CPP脚本
            </div>
            
            <p>根据脚本类型下载对应的BepInEx框架：</p>
            
            <div class="code-block">
📋 框架版本选择：
Mono脚本：下载名称中不带IL2CPP的版本（通常是BepInEx 5）
示例：XUnity.AutoTranslator-BepInEx-5.4.6.zip

IL2CPP脚本：下载名称中包含IL2CPP的版本
示例：XUnity.AutoTranslator-BepInEx-IL2CPP-5.4.6.zip
            </div>

            <h2>第二步：安装BepInEx框架</h2>
            <p>下载对应的BepInEx插件，将BepInEx插件全部解压到游戏根目录。</p>

            <div class="tip-box">
                <p><strong>温馨提示：</strong>确保所有文件都解压到游戏根目录，不要创建额外的子文件夹。</p>
            </div>

            <p>正确安装后，游戏根目录应该包含BepInEx文件夹和其他相关文件。</p>
            <img src="https://pic1.imgdb.cn/item/68f9240d3203f7be008f4ff2.png" alt="BepInEx插件解压到游戏根目录">

            <h2>第三步：安装翻译插件</h2>
            <p>下载对应的翻译插件，整个文件解压到BepInEx目录中。</p>

            <p>确保翻译插件的文件正确放置在BepInEx目录结构内。</p>
            <img src="https://pic1.imgdb.cn/item/68f9240d3203f7be008f4ff1.png" alt="翻译插件解压到BepInEx目录">

            <h2>第四步：验证安装</h2>
            <p>进入游戏后按下Alt+0，游戏就会出现一个小窗口。</p>

            <div class="tip-box">
                <p><strong>重要提示：</strong>如果没有出现窗口，就检查一下BepInEx\config目录中是否有AutoTranslatorConfig.ini文件，如果没有，就是不支持翻译。</p>
            </div>

            <img src="https://pic1.imgdb.cn/item/68f924423203f7be008f4ff7.png" alt="游戏内翻译窗口">

            <h2>第五步：配置翻译服务</h2>
            <p>分为两种模式：API调用大模型和本地大模型，按需设置。</p>

            <h3>API调用大模型（推荐）</h3>
            <p>下载大模型对接工具后，将软件放到游戏根目录。</p>
            
            <div class="code-block">
支持的大模型API：
- Deepseek：https://platform.deepseek.com/
- 阿里云百炼：https://bailian.console.aliyun.com/?tab=model#/api-key
            </div>

            <p>在对接工具中输入API地址和密钥，选择好模型后就可以启动服务。</p>
            <img src="https://pic1.imgdb.cn/item/68f936553203f7be008f5323.png" alt="API调用大模型配置界面">

            <h3>本地大模型模式</h3>
            <p>配置本地大模型（建议不要用深度思考）：密钥留空</p>
            
            <div class="code-block">
Ollma：API地址：http://localhost:11434/v1
LMStudio API地址：http://127.0.0.1:1234/v1
            </div>

            <p>输入后点击获取模型列表，软件会自动搜索本地模型，选择模型后点启动服务。</p>

            <h2>第六步：配置AutoTranslatorConfig.ini文件</h2>
            <p>打开BepInEx\config\AutoTranslatorConfig.ini文件，将以下位置的代码直接复制修改：</p>

            <div class="code-block">
[Service]
Endpoint=CustomTranslate
FallbackEndpoint=

[General]
Language=zh
FromLanguage=auto

[Custom]
Url=http://localhost:6800
EnableShortDelay=True
DisableSpamChecks=True
            </div>

            <p><strong>配置说明：</strong></p>
            <ul>
                <li><strong>Language</strong>：翻译后的语言（zh=中文）</li>
                <li><strong>FromLanguage</strong>：目标语言（auto=自动检测）</li>
                <li><strong>Url</strong>：翻译服务地址（默认localhost:6800）</li>
            </ul>

            <h3>支持的语言代码</h3>
            <div class="code-block">
en - 英语 (English)
zh - 中文 (Chinese)
es - 西班牙语 (Spanish)
fr - 法语 (French)
de - 德语 (German)
ja - 日语 (Japanese)
ru - 俄语 (Russian)
            </div>

            <h2>第七步：解决字体口口口问题</h2>
            <p>将字体压缩包解压到根目录，在AutoTranslatorConfig文件中搜索FallbackFont</p>

            <p>将字体文件名称粘贴到=后面，示例：</p>
            
            <div class="code-block">
FallbackFontTextMeshPro=arialuni_sdf_u2018
            </div>

            <div class="tip-box">
                <p><strong>温馨提示：</strong>确保字体文件正确放置在游戏目录中，并且文件名与配置中的名称一致。</p>
            </div>

            <h2>常见问题解决</h2>
            <ul>
                <li><strong>翻译窗口不显示：</strong>检查BepInEx是否正确安装，确认AutoTranslatorConfig.ini文件存在</li>
                <li><strong>字体显示口口口：</strong>检查字体文件是否正确解压，FallbackFont配置是否正确</li>
                <li><strong>翻译服务连接失败：</strong>确认翻译服务已启动，端口配置正确</li>
                <li><strong>游戏崩溃：</strong>检查BepInEx版本是否与游戏脚本类型匹配</li>
            </ul>

            <p>完成以上步骤后，启动游戏即可享受AI实时翻译功能！</p>
        </div>
    </main>
    
    <script src="../../main/js/navbar.js" defer></script>
    <script>
        fetch('../../main/components/navbar.html')
            .then(response => {
                if (!response.ok) {
                    console.error('Fetch error:', response.statusText);
                    throw new Error('Network response was not ok');
                }
                return response.text();
            })
            .then(html => {
                document.getElementById('navbar-placeholder').innerHTML = html;
                if (typeof initNavbar === 'function') {
                    initNavbar();
                }
            })
            .catch(error => {
                console.error('Error loading navbar:', error);
            });
    </script>
    
    <script src="../../main/js/utils.js" defer></script>
</body>
</html>
