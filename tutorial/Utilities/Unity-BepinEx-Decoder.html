<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unity引擎BepinEx框架解码教程</title>
    <link rel="icon" type="image/png" href="../../main/images/logo.png">
    <link rel="stylesheet" href="../../main/css/styles.css">
    <link rel="stylesheet" href="../../main/css/navbar.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>

    <div id="navbar-placeholder"></div>

    <main class="container">
        <div class="content-section">
            <h1>Unity引擎BepinEx框架解码教程</h1>
        <p class="meta-info">作者：芝士</p>
        
        <!-- 下载链接区域 -->
        <div class="download-links">
            <ul>
                <li><strong>Mono脚本BepInEx：</strong><a href="https://github.com/BepInEx/BepInEx/releases" target="_blank" rel="noopener noreferrer">点我下载</a></li>
                <li><strong>il2cpp脚本BepInEx：</strong><a href="https://builds.bepinex.dev/projects/bepinex_be" target="_blank" rel="noopener noreferrer">点我下载</a></li>
                <li><strong>首选解码插件：</strong><a href="https://github.com/trimmerpop/UniversalUnityDemosaics/releases" target="_blank" rel="noopener noreferrer">点我下载</a></li>
                <li><strong>备用解码插件：</strong><a href="https://github.com/ManlyMarco/UniversalUnityDemosaics/releases" target="_blank" rel="noopener noreferrer">点我下载</a></li>
                <li><strong>更新的AssetStudio：</strong><a href="https://github.com/aelurum/AssetStudio/tags" target="_blank" rel="noopener noreferrer">点我下载</a></li>

                
              </ul>
        </div>
        
        <!-- 关于解码的基础知识 -->
        <h2>关于解码的基础知识</h2>
        <p>在开始解码之前，了解一些基本概念很重要：</p>
        
        <div class="tip-box">
            <p><strong>马赛克类型：</strong></p>
            <ul>
                <li><strong>活动马赛克：</strong>可以通过插件解除，在移动视角时会随着视角变动而闪烁，相当于在贴图上加了磨砂玻璃</li>
                <li><strong>固定马赛克：</strong>无法解除，因为就是用磨砂玻璃做的，不会闪烁</li>
            </ul>
            <p><strong>注意：</strong>如果解除了马赛克还是什么都没有，那就是作者偷懒根本没画，需要使用AssetStudio和UABE导出贴图自己画，这个方法很麻烦。</p>
            <p><strong>替代方案：</strong>如果觉得这个方法太麻烦也可以尝试更加方便快速的解码方法：<a href="3dmigoto-unity-unreal-decoder.html" target="_blank" rel="noopener noreferrer">3Dmigoto：Unity和虚幻引擎解码</a></p>
        </div>

        <!-- 第一步：检查游戏脚本类型 -->
        <h2>第一步：检查游戏脚本类型</h2>
        <p>首先需要确定游戏使用的是哪种脚本后端：</p>
        
        <div class="code-block">
检查游戏根目录和_Data文件夹：
- 如果有Mono文件夹或者Managed文件夹 → Mono脚本
- 如果有il2cpp_data文件夹 → il2cpp脚本
        </div>
        
        <p>根据脚本类型下载对应的BepInEx框架：</p>
        <div class="code-block">
Mono脚本：下载名称中不带IL2CPP的版本，一般是Be5
示例：BepInEx_win_x64_5.4.23.4.zip

il2cpp脚本：下载名称中带IL2CPP的版本
示例：BepInEx-Unity.IL2CPP-win-x64-6.0.0-be.738+af0cba7.zip
        </div>

        <div class="tip-box">
            <p><strong>重要提示：</strong>检查游戏根目录下的UnityCrashHandler文件：</p>
            <ul>
                <li>UnityCrashHandler32.exe → 32位游戏</li>
                <li>UnityCrashHandler64.exe → 64位游戏</li>
            </ul>
            <p>下载框架时：32位下载带x86的版本，64位下载带x64的版本</p>
        </div>

        <!-- 第二步：安装BepInEx框架 -->
        <h2>第二步：安装BepInEx框架</h2>
        <p>将下载好的BepInEx框架压缩包中的所有文件解压到游戏的根目录</p>
        
        <div class="code-block">
1. 解压BepInEx压缩包到游戏根目录
2. 启动游戏（第一次需要翻墙）
3. 检查BepInEx文件夹是否多出很多文件
        </div>
        
        <p>框架安装成功后，BepInEx文件夹会多出很多文件，表示框架已正常加载。</p>

        <!-- 第三步：安装解码插件 -->
        <h2>第三步：安装解码插件</h2>
        <p>将对应的去码dll插件解压放置到指定位置：</p>
        
        <div class="code-block">
将解码插件的dll文件放置到：
BepInEx\plugins\ 文件夹中
        </div>
        
        <p>放置完成后，启动游戏即可生效。</p>

        <!-- 常见问题 -->
        <h2>常见问题解决</h2>
        
        <h3>1. 控制台开关设置</h3>
        <p>如果需要开启或关闭控制台：</p>
        <div class="code-block">
打开文件：BepInEx\config\BepInEx.cfg

找到 [Logging.Console] 部分：
Enabled = false

修改为：
Enabled = true   # 开启控制台
Enabled = false  # 关闭控制台
        </div>
        <p>Be5默认关闭控制台，Be6默认打开控制台</p>

        <h3>2. 与ReiPatcherAndAutoTranslator冲突</h3>
        <p>如果之前安装了翻译组件，需要先删除：</p>
        <div class="code-block">
删除游戏根目录下的文件夹：
- AutoTranslator
- ReiPatcher

删除 xxx_data/Managed 文件夹下的文件：
- 0Harmony.dll
- ExIni.dll
- Mono.Cecil.dll
- MonoMod.RuntimeDetour.dll
- MonoMod.Utils.dll
- ReiPatcher.exe
- UnityEngine.CoreModule.dll
- XUnity.AutoTranslator.Plugin.Core.dll
- XUnity.AutoTranslator.Plugin.ExtProtocol.dll
- XUnity.Common.dll
- XUnity.ResourceRedirector.dll
        </div>

        <div class="tip-box">
            <p><strong>温馨提示：</strong></p>
            <ul>
                <li>如果启动游戏后框架没有正常加载（Bepinex文件夹内没有多出文件），有可能是框架版本下错了</li>
                <li>确保下载的框架版本与游戏架构（32位/64位）匹配</li>
                <li>如果解码后仍然看不到内容，可能是固定马赛克或作者根本没画相关内容</li>
            </ul>
        </div>

        <p><strong>重要提示：</strong> 本教程适用于大多数Unity引擎游戏，但具体效果可能因游戏版本和实现方式而异。建议在操作前备份游戏文件。</p>
        
        <p>完成以上步骤后，重新启动游戏即可享受解码效果。</p>
        </div>
    </main>
    
    <script src="../../main/js/navbar.js" defer></script>
    <script>
        fetch('../../main/components/navbar.html')
            .then(response => {
                if (!response.ok) {
                    console.error('Fetch error:', response.statusText);
                    throw new Error('Network response was not ok');
                }
                return response.text();
            })
            .then(html => {
                document.getElementById('navbar-placeholder').innerHTML = html;
                if (typeof initNavbar === 'function') {
                    initNavbar();
                }
            })
            .catch(error => {
                console.error('Error loading navbar:', error);
            });
    </script>
    
    <script src="../../main/js/utils.js" defer></script>
</body>
</html>
